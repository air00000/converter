# Converter Bot

Телеграм-бот для преобразования файлов по пользовательским маскам. Пользователь задаёт структуру исходных строк и желаемую структуру, после чего бот формирует новый файл только с нужными значениями.

## Возможности

- Пошаговый диалог: ввод исходной маски, целевой маски и отправка файла.
- Отправка исходных данных в виде документа, ссылки на файл или папку в Google Drive/Яндекс Диске.

- Поддержка плейсхолдеров в фигурных скобках (например, `{username}`).
- Пропуск неподходящих строк и формирование нового файла в кодировке UTF-8.

## Требования

- Python 3.10+
- Telegram Bot Token

## Установка и запуск

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# Укажите токен бота в файле .env
python -m bot.main
```

## Формат масок

Используйте фигурные скобки для обозначения переменных частей строки. Примеры:

- Исходная маска: `{protocol}://{domain}:{username}:{password}`
- Целевая маска: `{username}:{password}`

Бот извлечёт значения плейсхолдеров из каждой строки файла, совпадающей с исходной маской, и сформирует строки по целевой маске. Строки, которые не соответствуют исходной маске, будут пропущены.

После ввода масок бот предложит указать количество строк на файл. Укажите число, чтобы разбить результат на несколько файлов, или отправьте `0`/`skip`, чтобы получить один файл.

Команда `/cancel` сбрасывает текущие настройки и позволяет начать заново.
